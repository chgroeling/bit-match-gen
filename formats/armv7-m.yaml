struct_def:
  LdrLiteral: {members: [flags, t, imm32]}

operations:
  init_flags: {dest: flags, op: set, args: [0]}
  extract_t: {dest: t, op: extract_bits, args: [15, 12]} # o=i[MSB:LSB]
  extract_imm32: {dest: imm32, op: extract_bits, args: [11, 0]} # o=i[MSB:LSB]

patterns:
  0000000000xxxxxx: {name: mov_register_t2}
  00000xxxxxxxxxxx: {name: lsl_immediate_t1}
  00001xxxxxxxxxxx: {name: lsr_immediate_t1}
  00010xxxxxxxxxxx: {name: asr_immediate_t1}
  0001100xxxxxxxxx: {name: add_register_t1}
  0001101xxxxxxxxx: {name: sub_register_t1}
  0001110xxxxxxxxx: {name: add_immediate_t1}
  0001111xxxxxxxxx: {name: sub_immediate_t1}
  00100xxxxxxxxxxx: {name: mov_immediate_t1}
  00101xxxxxxxxxxx: {name: cmp_immediate_t1}
  00110xxxxxxxxxxx: {name: add_immediate_t2}
  00111xxxxxxxxxxx: {name: sub_immediate_t2}
  0100000000xxxxxx: {name: and_register_t1}
  0100000001xxxxxx: {name: eor_register_t1}
  0100000010xxxxxx: {name: lsl_register_t1}
  0100000011xxxxxx: {name: lsr_register_t1}
  0100000100xxxxxx: {name: asr_register_t1}
  0100000101xxxxxx: {name: adc_register_t1}
  0100001000xxxxxx: {name: tst_register_t1}
  0100001001xxxxxx: {name: rsb_immediate_t1}
  0100001010xxxxxx: {name: cmp_register_t1}
  0100001100xxxxxx: {name: orr_register_t1}
  0100001110xxxxxx: {name: bic_register_t1}
  01000100xxxxxxxx: {name: add_register_t2}
  01000101xxxxxxxx: {name: cmp_register_t2}
  01000110xxxxxxxx: {name: mov_register_t1}
  010001110xxxxxxx: {name: bx_t1}
  010001111xxxxxxx: {name: blx_t1}
  01001xxxxxxxxxxx: {name: ldr_literal_t1}
  0101000xxxxxxxxx: {name: str_register_t1}
  0101010xxxxxxxxx: {name: strb_register_t1}
  0101100xxxxxxxxx: {name: ldr_register_t1}
  0101110xxxxxxxxx: {name: ldrb_register_t1}
  01100xxxxxxxxxxx: {name: str_immediate_t1}
  01101xxxxxxxxxxx: {name: ldr_immediate_t1}
  01110xxxxxxxxxxx: {name: strb_immediate_t1}
  01111xxxxxxxxxxx: {name: ldrb_immediate_t1}
  10000xxxxxxxxxxx: {name: strh_immediate_t1}
  10001xxxxxxxxxxx: {name: ldrh_immediate_t1}
  10010xxxxxxxxxxx: {name: str_immediate_t2}
  10011xxxxxxxxxxx: {name: ldr_immediate_t2}
  10100xxxxxxxxxxx: {name: add_pc_plus_immediate_t1}
  10101xxxxxxxxxxx: {name: add_sp_plus_immediate_t1}
  101100000xxxxxxx: {name: add_sp_plus_immediate_t2}
  101100001xxxxxxx: {name: sub_sp_minus_immediate_t1}
  1011001000xxxxxx: {name: sxth_t1}
  1011001001xxxxxx: {name: sxtb_t1}
  1011001010xxxxxx: {name: uxth_t1}
  1011001011xxxxxx: {name: uxtb_t1}
  1011010xxxxxxxxx: {name: push_t1}
  1011110xxxxxxxxx: {name: pop_t1}
  10111110xxxxxxxx: {name: bkpt_t1}
  1011111100000000: {name: nop_t1}
  10111111xxxxxxxx: {name: it_t1}
  1011x0x1xxxxxxxx: {name: cb_n_z_t1}
  11000xxxxxxxxxxx: {name: stm_t1}
  11001xxxxxxxxxxx: {name: ldm_t1}
  11011111xxxxxxxx: {name: svc_t1}
  1101xxxxxxxxxxxx: {name: b_t1}
  11100xxxxxxxxxxx: {name: b_t2}
  111010000100xxxx: {name: strex_t1}
  111010000101xxxxxxxx1111xxxxxxxx: {name: ldrex_t1}
  1110100010111101xx0xxxxxxxxxxxxx: {name: pop_t2}
  1110100010x0xxxx0x0xxxxxxxxxxxxx: {name: stm_t2}
  1110100010x1xxxxxx0xxxxxxxxxxxxx: {name: ldm_t2}
  111010001101xxxx11110000000xxxxx: {name: tbb_h_t1}
  11101001001011010x0xxxxxxxxxxxxx: {name: push_t2}
  1110100100x0xxxx0x0xxxxxxxxxxxxx: {name: stmdb_t1}
  1110100xx1x0xxxx: {name: strd_immediate_t1}
  1110100xx1x1xxxx: {name: ldrd_immediate_t1}
  11101010000xxxxx0xxxxxxxxxxxxxxx: {name: and_register_t2}
  11101010001xxxxx0xxxxxxxxxxxxxxx: {name: bic_register_t2}
  11101010010x11110000xxxx0000xxxx: {name: mov_register_t3}
  11101010010x11110000xxxx0011xxxx: {name: rrx_t1}
  11101010010x11110xxxxxxxxx00xxxx: {name: lsl_immediate_t2}
  11101010010x11110xxxxxxxxx01xxxx: {name: lsr_immediate_t2}
  11101010010x11110xxxxxxxxx10xxxx: {name: asr_immediate_t2}
  11101010010xxxxx0xxxxxxxxxxxxxxx: {name: orr_register_t2}
  11101010011x11110xxxxxxxxxxxxxxx: {name: mvn_register_t2}
  111010101001xxxx0xxx1111xxxxxxxx: {name: teq_register_t1}
  11101010100xxxxx0xxxxxxxxxxxxxxx: {name: eor_register_t2}
  11101011000xxxxx0xxxxxxxxxxxxxxx: {name: add_register_t3}
  11101011010xxxxx0xxxxxxxxxxxxxxx: {name: adc_register_t2}
  11101011011xxxxx0xxxxxxxxxxxxxxx: {name: sbc_register_t2}
  111010111011xxxx0xxx1111xxxxxxxx: {name: cmp_register_t3}
  11101011101xxxxx0xxxxxxxxxxxxxxx: {name: sub_register_t2}
  11101011110xxxxx0xxxxxxxxxxxxxxx: {name: rsb_register_t1}
  111100110110xxxx0xxxxxxxxx0xxxxx: {name: bfi_t1}
  111100111000xxxx1000xx00xxxxxxxx: {name: msr_t1}
  1111001110111111100011110101xxxx: {name: dmb_t1}
  111100111100xxxx0xxxxxxxxx0xxxxx: {name: ubfx_t1}
  11110011111011111000xxxxxxxxxxxx: {name: mrs_t1}
  11110x000001xxxx0xxx1111xxxxxxxx: {name: tst_immediate_t1}
  11110x00000xxxxx0xxxxxxxxxxxxxxx: {name: and_immediate_t1}
  11110x00001xxxxx0xxxxxxxxxxxxxxx: {name: bic_immediate_t1}
  11110x00010x11110xxxxxxxxxxxxxxx: {name: mov_immediate_t2}
  11110x00010xxxxx0xxxxxxxxxxxxxxx: {name: orr_immediate_t1}
  11110x00011x11110xxxxxxxxxxxxxxx: {name: mvn_immediate_t1}
  11110x001001xxxx0xxx1111xxxxxxxx: {name: teq_immediate_t1}
  11110x00100xxxxx0xxxxxxxxxxxxxxx: {name: eor_immediate_t1}
  11110x010001xxxx0xxx1111xxxxxxxx: {name: cmn_immediate_t1}
  11110x01000x11010xxxxxxxxxxxxxxx: {name: add_sp_plus_immediate_t3}
  11110x01000xxxxx0xxxxxxxxxxxxxxx: {name: add_immediate_t3}
  11110x01010xxxxx0xxxxxxxxxxxxxxx: {name: adc_immediate_t1}
  11110x01011xxxxx0xxxxxxxxxxxxxxx: {name: sbc_immediate_t1}
  11110x011011xxxx0xxx1111xxxxxxxx: {name: cmp_immediate_t2}
  11110x01101x11010xxxxxxxxxxxxxxx: {name: sub_sp_minus_immediate_t2}
  11110x01101xxxxx0xxxxxxxxxxxxxxx: {name: sub_immediate_t3}
  11110x01110xxxxx0xxxxxxxxxxxxxxx: {name: rsb_immediate_t2}
  11110x10000011010xxxxxxxxxxxxxxx: {name: add_sp_plus_immediate_t4}
  11110x10000xxxxx0xxxxxxxxxxxxxxx: {name: add_immediate_t4}
  11110x100100xxxx0xxxxxxxxxxxxxxx: {name: mov_immediate_t3}
  11110x10101011010xxxxxxxxxxxxxxx: {name: sub_sp_minus_immediate_t3}
  11110x101010xxxx0xxxxxxxxxxxxxxx: {name: sub_immediate_t4}
  11110xxxxxxxxxxx10x0xxxxxxxxxxxx: {name: b_t3}
  11110xxxxxxxxxxx10x1xxxxxxxxxxxx: {name: b_t4}
  11110xxxxxxxxxxx11x1xxxxxxxxxxxx: {name: bl_t1}
  111110000000xxxxxxxx000000xxxxxx: {name: strb_register_t2}
  111110000000xxxxxxxx1xxxxxxxxxxx: {name: strb_immediate_t3}
  111110000001xxxxxxxx1xxxxxxxxxxx: {name: ldrb_immediate_t3}
  111110000010xxxxxxxx000000xxxxxx: {name: strh_register_t2}
  111110000010xxxxxxxx1xxxxxxxxxxx: {name: strh_immediate_t3}
  111110000011xxxxxxxx000000xxxxxx: {name: ldrh_register_t2}
  111110000011xxxxxxxx1xxxxxxxxxxx: {name: ldrh_immediate_t3}
  1111100001001101xxxx110100000100: {name: push_t3}
  111110000100xxxxxxxx000000xxxxxx: {name: str_register_t2}
  111110000100xxxxxxxx1xxxxxxxxxxx: {name: str_immediate_t4}
  1111100001011101xxxx101100000100: {name: pop_t3}
  111110000101xxxxxxxx000000xxxxxx: {name: ldr_register_t2}
  111110000101xxxxxxxx1xxxxxxxxxxx: {name: ldr_immediate_t4}
  111110001000xxxx: {name: strb_immediate_t2}
  111110001001xxxx: {name: ldrb_immediate_t2}
  111110001010xxxx: {name: strh_immediate_t2}
  111110001011xxxx: {name: ldrh_immediate_t2}
  111110001100xxxx: {name: str_immediate_t3}
  111110001101xxxx: {name: ldr_immediate_t3}
  11111000x1011111: {name: ldr_literal_t2, to: LdrLiteral, ops: [init_flags, extract_t, extract_imm32]}
  111110010001xxxxxxxx1xxxxxxxxxxx: {name: ldrsb_immediate_t2}
  111110010011xxxxxxxx1xxxxxxxxxxx: {name: ldrsh_immediate_t2}
  111110011001xxxx: {name: ldrsb_immediate_t1}
  111110011011xxxx: {name: ldrsh_immediate_t1}
  11111010000011111111xxxx10xxxxxx: {name: sxth_t2}
  11111010000111111111xxxx10xxxxxx: {name: uxth_t2}
  11111010000xxxxx1111xxxx0000xxxx: {name: lsl_register_t2}
  11111010001xxxxx1111xxxx0000xxxx: {name: lsr_register_t2}
  11111010010011111111xxxx10xxxxxx: {name: sxtb_t2}
  11111010010111111111xxxx10xxxxxx: {name: uxtb_t2}
  11111010010xxxxx1111xxxx0000xxxx: {name: asr_register_t2}
  111110101011xxxx1111xxxx1000xxxx: {name: clz_t1}
  111110110000xxxx1111xxxx0000xxxx: {name: mul_t2}
  111110110000xxxxxxxxxxxx0000xxxx: {name: mla_t1}
  111110110000xxxxxxxxxxxx0001xxxx: {name: mls_t1}
  111110111000xxxxxxxxxxxx0000xxxx: {name: smull_t1}
  111110111001xxxx1111xxxx1111xxxx: {name: sdiv_t1}
  111110111010xxxxxxxxxxxx0000xxxx: {name: umull_t1}
  111110111011xxxx1111xxxx1111xxxx: {name: udiv_t1}
  111110111110xxxxxxxxxxxx0000xxxx: {name: umlal_t1}
